import{T as E,d as m,x as B,O as _,p,o,c as l,w as s,g as b,f as c,a as t,l as T,G as $,u as f,b as n,e as w}from"./app-55d67c3b.js";import{_ as V,s as k}from"./AppLayout-fc599bfc.js";import{l as v,_ as C}from"./lodash-fc9249bb.js";const N={class:"box mb-2"},D={class:"section"},L={class:"article-full"},O={class:"icon"},R={class:"icon"},S=["onClick"],I={class:"icon"},G={__name:"Index",props:{tasks:{type:Object,default:[]}},setup(h){const y=e=>{e._method="DELETE",_.delete(route("tasks.destroy",e.id),{onSuccess:()=>{k()},onError:i=>{k(i)}})},r=E({search:m("")});B(r,v.debounce(()=>{_.replace(route("tasks.index",v.pickBy(r),{preserveState:!0}))},150));const g=m([{label:"Titulo",field:"title"},{label:"DescripciÃ³n",field:"description"},{label:"Usuario",field:"user"}]);return(e,i)=>{const d=p("Link"),u=p("icon"),x=p("v-table");return o(),l(V,{title:"Dashboard"},{header:s(()=>[b(" Tareas / Listado ")]),"action-buttons":s(()=>[e.$page.props.authpermisos.includes("crear tarea")?(o(),l(d,{key:0,href:e.route("tasks.create"),class:"btn btn-blue"},{default:s(()=>[b("Nuevo")]),_:1},8,["href"])):c("",!0)]),default:s(()=>[t("div",N,[t("div",D,[t("div",L,[T(t("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>f(r).search=a),label:"Buscar",placeholder:"Buscar..."},null,512),[[$,f(r).search]])])])]),n(x,{columns:g.value,data:h.tasks.data,showActions:!0},{actions:s(({row:a})=>[e.$page.props.authpermisos.includes("consultar tarea")?(o(),l(d,{key:0,class:"btn-xs btn-blue",title:"Ver Registro!",href:e.route("tasks.show",a.id),tabindex:"-1"},{default:s(()=>[t("span",O,[n(u,{icon:"eye"})])]),_:2},1032,["href"])):c("",!0),e.$page.props.authpermisos.includes("actualizar tarea")?(o(),l(d,{key:1,class:"btn-xs btn-yellow",title:"Editar Registro!",href:e.route("tasks.edit",a.id),tabindex:"-1"},{default:s(()=>[t("span",R,[n(u,{icon:"pen"})])]),_:2},1032,["href"])):c("",!0),e.$page.props.authpermisos.includes("borrar tarea")?(o(),w("button",{key:2,onClick:U=>y(a),class:"btn-xs btn-red",title:"Eliminar Registro!"},[t("span",I,[n(u,{icon:"trash"})])],8,S)):c("",!0)]),_:1},8,["columns","data"]),n(C,{links:h.tasks.links},null,8,["links"])]),_:1})}}};export{G as default};
